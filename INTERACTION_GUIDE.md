# LexiLand 交互功能指南

## 📖 概述
本文档描述了 LexiLand 阅读应用中所有的鼠标和键盘交互功能。

---

## 🎨 单词标记系统

### 颜色含义
- **绿色背景**：已标记的单词（Marked Words）
- **紫色背景**：短语标记（Phrase Marks）
- **橙色背景**：已创建卡片的单词（有定义、释义等）
- **彩色下划线**：虚线连接的不连续短语

### 标记优先级
橙色（卡片） > 紫色（短语） > 绿色（单词）

---

## 🖱️ 单词交互

### 点击单词
**功能**：切换单词的标记状态

**行为**：
- 如果单词未标记 → 添加绿色标记
- 如果单词已标记 → 移除标记
- 如果单词已有卡片（橙色） → 无法标记（保护已有内容）

**快捷操作**：
- 点击单词上方的 **✓ 按钮** → 将单词添加到 Known Words（已知词汇库）

---

## 📝 短语标记

### 普通选择（鼠标拖拽）
**功能**：标记选中的文本为短语（紫色背景）

**操作方式**：
1. 按住鼠标左键拖拽选中文本
2. 松开鼠标，选中区域变为紫色
3. 可以跨越多个单词和空格
4. 可以跨句子选择

**特点**：
- **累加模式**：新选择的短语会保留之前的标记（不会清空旧标记）
- 选中的文本包括单词和空格，作为整体显示紫色背景
- 点击紫色区域的任意位置可取消整个短语标记

### Ctrl + 选择
**功能**：创建虚线连接的不连续短语

**操作方式**：
1. 先普通选择标记一个短语（例如 "dark"）
2. 按住 **Ctrl 键**，再选择另一个短语（例如 "unwelcoming"）
3. 两个短语之间会出现随机颜色的下划线，表示它们语义相关

**特点**：
- 虚线颜色随机（red, orange, amber, emerald, cyan, blue, purple, pink）
- 只有在同一句子内的短语才能连接
- 每次连接生成不同颜色，便于区分多组短语
- 透明度 60%，重叠时可看到叠加效果

### 删除短语标记

#### 删除独立短语
- **点击**紫色短语的任意位置 → 删除该短语标记

#### 删除虚线连接组
- **点击**虚线连接区域的任意位置 → 删除整个虚线连接和所有相关的紫色短语标记
- 例如：点击 "dark ... unwelcoming" 的虚线区域，会同时删除 "dark" 和 "unwelcoming" 的紫色标记以及虚线

---

## 📇 卡片功能

### 创建单词卡片
**操作方式**：
1. 点击单词（如果未标记会先标记为绿色）
2. 在右侧面板点击 **"📝 Create Card"** 按钮
3. 填写卡片信息：
   - **Word**：单词原文
   - **IPA (Optional)**：国际音标
   - **Chinese (Optional)**：中文释义
   - **Definition (Optional)**：英文定义
4. 点击 **"Create"** 创建卡片

### 卡片显示
- 创建卡片后，单词背景变为**橙色**
- 单词上方显示 IPA 音标（如果有）
- 单词下方显示中文释义（如果有）

### 卡片编辑
**操作方式**：
1. 点击橙色的单词
2. 在右侧面板点击 **"Edit"** 按钮
3. 修改卡片信息
4. 点击 **"Save"** 保存

### 卡片删除
**操作方式**：
1. 点击橙色的单词
2. 在右侧面板点击 **"Delete"** 按钮
3. 确认删除

### 卡片朗读
- 点击卡片面板上的 **🔊 按钮** → 朗读单词

---

## 📚 Known Words（已知词汇）

### 添加到 Known Words
**方式一：从文件导入**
1. 点击左上角 **"Import Known Words from File"**
2. 选择包含已知单词的文本文件
3. 每行一个单词

**方式二：点击 ✓ 按钮**
- 点击单词上方的 **✓ 按钮** → 将单词标记为已知

### Known Words 的作用
- 标记为 Known 的单词不会显示标记
- 用于标识已经掌握的词汇
- 帮助专注于未知单词的学习

---

## 📄 文档管理

### 加载示例文档
- 点击 **"Load Sample"** → 加载内置的示例文本

### 创建新文档
1. 点击 **"+ New Document"** 按钮
2. 输入文档标题
3. 粘贴或输入文本内容
4. 点击 **"Create"** 创建文档

### 从文件导入
- 点击 **"Import from File"** → 选择 .txt 文件导入

### 切换文档
- 在左侧文档列表中点击文档标题 → 切换到该文档

---

## ⚙️ 显示设置

### 切换显示选项
在右侧面板可以切换：
- **Show IPA**：显示/隐藏国际音标
- **Show Chinese**：显示/隐藏中文释义
- **Auto Mark**：自动标记未知单词

---

## 🎯 使用场景示例

### 场景 1：标记生词
1. 阅读时遇到生词，点击该词（变绿色）
2. 继续阅读，点击其他生词标记
3. 阅读结束后，绿色单词即为需要学习的生词列表

### 场景 2：记录短语搭配
1. 选中短语 "pay attention"（变紫色）
2. 选中短语 "make sense"（变紫色）
3. 紫色短语保留，便于复习固定搭配

### 场景 3：连接语义相关的表达
1. 选中 "dark"（变紫色）
2. 按住 **Ctrl**，选中 "unwelcoming"
3. 两词之间出现彩色虚线，表示它们共同营造氛围
4. 鼠标悬停在虚线区域，可以看到连接关系
5. 点击虚线区域，整组删除

### 场景 4：创建词汇卡片
1. 点击生词 "eerie"
2. 点击 **"📝 Create Card"**
3. 填写：
   - IPA: `/ˈɪri/`
   - Chinese: `怪异的；令人不安的`
   - Definition: `strange and frightening`
4. 创建后，单词变橙色，显示音标和释义

### 场景 5：管理已知词汇
1. 点击 **"Import Known Words from File"**
2. 导入基础词汇表（如 COCA 2000）
3. 阅读时，已知词汇不会干扰，专注于生词

---

## 💡 使用技巧

1. **先标记后创建卡片**：绿色标记可以快速标识生词，稍后集中创建卡片
2. **短语优于单词**：记住短语比单个单词更有助于语言学习
3. **虚线连接语义相关词**：用于理解词汇在上下文中的关系
4. **定期导入 Known Words**：减少视觉干扰，提高阅读效率
5. **利用音标和释义**：开启 Show IPA/Chinese 辅助学习

---

## 🔄 数据持久化

所有数据自动保存到浏览器的 IndexedDB：
- ✅ 已标记的单词（绿色）
- ✅ 已标记的短语（紫色）
- ✅ 虚线连接关系
- ✅ 创建的卡片
- ✅ Known Words 列表
- ✅ 文档内容

刷新页面后，所有标记和卡片都会自动恢复。

---

## 📱 键盘快捷键总结

| 按键 | 功能 |
|------|------|
| **鼠标拖拽** | 标记短语（紫色） |
| **Ctrl + 拖拽** | 创建虚线连接 |
| **点击单词** | 切换单词标记（绿色） |
| **点击短语** | 删除短语标记 |
| **点击虚线区域** | 删除整组连接 |

---

## 🎨 视觉反馈

- **绿色背景** = 已标记单词
- **紫色背景** = 已标记短语  
- **橙色背景** = 已创建卡片
- **彩色下划线** = 虚线连接
- **浅蓝色背景** = 当前朗读的句子
- **黄色高亮** = 当前朗读的单词

---

*最后更新：2026-02-09*
